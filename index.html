<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="AsciiDoc 8.6.7">
<title></title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_dvcs_workflows">DVCS Workflows</h2>
<div class="sectionbody">
<div class="paragraph"><p>Zachary Kessin
 <a href="mailto:zkessin@gmail.com">zkessin@gmail.com</a>
 @zkessin</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_introducing_git_and_hg">Introducing Git and HG</h2>
<div class="sectionbody">
<div class="paragraph"><p>This book is not about version control. That is a radical statement as
it says "Using Git and Mercurial" on the cover, but its not about git
or mercurial, nor is it about software development, though most of the
readers will be software developers. What this book is about is teams.</p></div>
<div class="paragraph"><p>Its not just software, many things worth doing these days are done by
teams of people. While most people who use GitHub are programmers
and will use it to write programs.</p></div>
<div class="paragraph"><p>GitHub can be used (And for
those of you who know nothing about knitting, to say knitters are
passionate about what they do would be an understatement)</p></div>
<div class="sect2">
<h3 id="_thanks">Thanks</h3>
<div class="paragraph"><p>This book was envisioned as a collaborative project. I wanted to hear
how other people have collaborated on projects, find out what works
and what doesn&#8217;t.</p></div>
<div class="paragraph"><p>In developing this book I have to thank several people, First of all
Simon St Lawrence and Andy Oram at O&#8217;Reilly Media who have supported
me.</p></div>
<div class="paragraph"><p>Matthew McCullough of the GitHub training group has offered me a
number of suggestions as well as promoted this book within GitHub.</p></div>
<div class="paragraph"><p>In addition a number of people have sent me pull requests with
changes. Contributors are listed here in alphabetical order by GitHub user
name.</p></div>
<div class="ulist"><ul>
<li>
<p>
breskeby - Rene Groeschke
</p>
</li>
<li>
<p>
kirean   - Erik Andersson
</p>
</li>
<li>
<p>
rkessin  - Richard Kessin
</p>
</li>
</ul></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tools_for_collaboration">Tools for Collaboration</h2>
<div class="sectionbody">
<div class="paragraph"><p>When working with a group on a project, you need to have a way to
integrate the contributions of various team members.</p></div>
<div class="paragraph"><p>It is possible to write in software like MS Word and email copies of
the files around between collaborators. However this is a risky
practice. As revisions of the file move around, the number of versions
of the file will go up. Trying to ensure that changes are not
overwritten by mistake becomes an increasingly difficult task.</p></div>
<div class="paragraph"><p>Given enough contributers and enough versions of the file it is
inevitable that someone&#8217;s changes will get lost or that an older
version of a paragraph will suddenly return when someone uses the
wrong version of a file.</p></div>
<div class="paragraph"><p>Sharing the file on a site like dropbox is also not a solution because if
more than one person wishes to edit at the same time it is impossible
to know which version of the file will be there when everyone is done.</p></div>
<div class="sect2">
<h3 id="_les_bons_comptes_font_les_bons_amis">Les bons comptes font les bons amis</h3>
<div class="paragraph"><p>The quote in French means "Good accounts make for good
friends" and is fitting. As business venture needs a good system to
track its money, and a project needs a good system to keep track of
the work done by its members.</p></div>
<div class="paragraph"><p>A project can be any form of creative work, a computer program, a
Novel, this book, a set of knitting patterns and so forth. Most
projects will consist of one or more files that will reside on the
computers of the project members.</p></div>
<div class="paragraph"><p>As an example take this book. It consists of around 20 or so files
that contain the actual text of the book, one for each chapter or
section, and then a bunch of other files that contain things like the
images that are included and a few random others.</p></div>
<div class="paragraph"><p>As the book is being written we want to be able to share those
documents between the writers, reviewers, editors, and in this case
the world at large. Other projects will be shared in different ways.</p></div>
<div class="paragraph"><p>In order to make this collaboration work we need two things. First a
way to share the documents between the project members, and secondly a
set of rules on how those contributors will work together.</p></div>
<div class="paragraph"><p>It is all fine and good to say that it is possible to know if two
users have the same version of a file, or how their copies differ, but
if you have 20 people attempting to assemble a complex project you
need a way to organize people so that tasks can be managed.</p></div>
<div class="paragraph"><p>This book will attempt to lay out how to construct a system that will
work for your team, by showing how different teams have faced these
problems and mapping out their solutions.</p></div>
</div>
<div class="sect2">
<h3 id="_version_control">Version Control</h3>
<div class="paragraph"><p>Thankfully various computer programmers over the years have faced this
problem and realizing that it was a problem, built tools to try and
solve it. These tools collectively are known as "Version Control
Systems" Or "Revision Control Systems". The history of Version
Control systems dates back to the 1970&#8217;s and has generated significant
progress.</p></div>
<div class="paragraph"><p>The current major Version Control system is called "git" and was
created by Linus Torvolds, when he was unable to find that existing
systems did not meet the needs of the team that was developing the
Linux kernel.</p></div>
</div>
<div class="sect2">
<h3 id="_git">GIT</h3>
<div class="paragraph"><p>GIT is a very powerful tool that has a lot of features, but most of
what is needed to work and collaborate with others can be done with a
small enough to learn pretty quickly. In addition while many git
tutorials show how to use git from a command line there are now many
very nice graphical tools to enable the use of git without having to
ever see a command line if you don&#8217;t want too.</p></div>
<div class="paragraph"><p>The way version control systems work is they track files and changes
to those files. So it is possible to see the history of changes to a
file and when each line was last changed and by whom.</p></div>
<div class="paragraph"><p>This allows project members to say that they all the same version of a
file, and to ensure that everyone&#8217;s changes have been accounted
for. Git allows users to ensure that they have the same version of the
project files by applying a mathematical function called SHA1 to the
files in a project. At any given time the files committed to a project
will have a unique SHA1 key.</p></div>
<div class="paragraph"><p>Furthermore, if two members of project team have a project directory
with the same SHA1 key they can be sure that the files in the project
are the same.</p></div>
<div class="paragraph"><p>Every time files are changed in a project git will create a new SHA1
key for the project. So if Bob and Lisa want to know if they have the
same files  they do not have to check every file for changes they can
just compare their keys. If they match they know that the files are
the same.</p></div>
<div class="paragraph"><p>However if they are not the same git can look at the history of the
files and figure out what has changed. So if Bob has sent Lisa  file
for editing and she made some changes, git will use the SHA1 keys to
compare the history of the files. In this case it will see that Bob&#8217;s
files are an ancestor to Lisa&#8217;s. It can then know exactly what changes
Lisa made and allow Bob to safely merge her changes. We will see
an example of how to do this in <a href="#pull_request">Pull Request</a>.</p></div>
<div class="sect3">
<h4 id="_sha1">SHA1</h4>
<div class="paragraph"><p>SHA1 is a cryptographic hash that when you apply it to data will
return a 40 character string that looks like this,
<strong>3fee35069bb9591edc3ab76f44b69c7b2d44be88</strong>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">you can not recover the original files from that hash, SHA1 is
strictly a one way function.</td>
</tr></table>
</div>
<div class="paragraph"><p>In general you will see a shorter form that looks like <strong>3fee350</strong>. In
this case git will use as short a version of the string as it can as
long as it is unique. Git does this because the developers realized
that having to use a 40 character string would be difficult for
users.</p></div>
<div class="paragraph"><p>The details of how SHA1 turns arbitrary data into a hash are rather
technical. If you want to know more about how SHA1 works you can look
on <a href="http://en.wikipedia.org/wiki/Sha1">WIkipedia</a>.</p></div>
<div class="paragraph"><p>The thing to remember is that the chances that two SHA1 keys will be
the same while the files are not is  1:10<sup>48</sup>. That is close enough to
0 for me.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_github">GitHub</h3>
<div class="paragraph"><p>The use of git is greatly enhanced by <a href="http://github.com">GitHub</a> a
company that was founded in 2008 to facilitate using git to
collaborate on software projects. Since the GitHub has grown to become
the most popular site for building collaborations in the open source
software community.</p></div>
<div class="paragraph"><p>GitHub is itself a distributed company with its team spread out all
over the place so they not only develop the tools for working with
distributed teams, they use them ever day.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_git">Using Git</h2>
<div class="sectionbody">
<div class="paragraph"><p>For developers who are used to centralized version control systems
like CVS or SVN transitioning to GIT requires a bit of a mental
transition. Unlike SVN a commit in git is a two phase operation. When
you do a <strong>git commit</strong> you are committing to your local repository. It
does not publish those changes to anyone else. This has several
benefits, first of all you can commit work in progress without woring
about "breaking the build" so if you may want to roll back some
changes you can commit to a branch on your local repository.  It also
means that you do not need Internet access to commit to your local
repository. So if you are say writing a book on your laptop while on
an international flight (which is where this is being written) you can
check in your changes to a local repository and then push them to a
shared repository later when you flight lands.</p></div>
<div class="paragraph"><p>This chapter is not a full introduction to git. There are several
excellent books on that including <em>Version Control with Git</em> by Jon
Loeliger and McCullough which is published by O&#8217;Reilly. That book is
an excellent introduction to git. In addition there are several other
books out there as well as videos which can be found on sites like
youtube and infoq.</p></div>
<div class="paragraph"><p>In addition this chapter assumes the use of git from a command shell
such as bash. For those who are happy using a command line this can be
a very productive way to work. But do not assume that it is the only
way to work with GIT or even the "correct" way. The command line is an
effective way to work, but so are a number of Graphical git clients
which are covered in <a href="#git_gui">GUI Git Front Ends</a>. Use which ever
makes most sense to you. In addition it is quite possible to use both
the command line and one or more graphical tools.</p></div>
<div class="paragraph"><p>When building this book I have been using command line git tool, and
the Emacs git interface and the GitHub for mac program. In this case
I used the emacs client for most commits and the GitHub for Mac for
handling pushing and branches.</p></div>
<div class="sect2">
<h3 id="_creating_a_repository">Creating a repository</h3>
<div class="paragraph"><p>To create a repository use the command <strong>git init</strong> which will
initialize an empty git repository.  Once a repository has been
created files can be added to it and all other operations performed.</p></div>
<div class="paragraph"><p>The other way to create a repository is by doing it with GitHub or
other remote hosting service. Once you create the repository on GitHub
you then clone the repository onto your local computer.</p></div>
</div>
<div class="sect2">
<h3 id="_basic_operations">Basic Operations</h3>
<div class="paragraph"><p>The first thing you will wish to do after creating a new repository is add
some files for it to track. A repository without any files is not
particularly useful, anymore than any other file system without files.</p></div>
<div class="paragraph"><p>To add files use the command <strong>git add &lt;file&gt;</strong> you can also add more
than one file or a directory structure in one command line.</p></div>
<div class="sect3">
<h4 id="_committing_changes">Committing Changes</h4>
<div class="paragraph"><p>Once you have added files to a repository you will need to commit
changes that have been made.  to do this you use <strong>git commit</strong>. Git
will open an editor to let you create a commit message. If you want to
supply one on the command line use <strong>git commit -m "My Commit Message"
file</strong>.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">unlike CVS and SVN if you do a commit in a subdirectory it
will commit all files in the repository, not just those in the current
repository.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_branching_and_merging">Branching and Merging</h4>
<div class="paragraph"><p>Git makes dealing with branches much easier than svn or the like. Many
git users will create a new branch for each feature. This also allows
you to easily throw away changes did work well by simply abandoning
the branch.</p></div>
<div class="paragraph"><p>To create a branch use <strong>git branch &lt;branchname&gt;</strong> this will create a new
branch, however it will not change repository to the new branch, do do
that do <strong>git checkout &lt;branchname&gt;</strong>. Then edit and commit files as
normal.</p></div>
<div class="paragraph"><p>A git branch can exist on the local repository only, or on a remote
repository. Clearly some branches such as a throw away experiment in
the code probably will only exist on a local repository. On the other
hand a feature branch may well exist on both local and remote
repositories. (The details of this will depend on how the team chooses
to do things)</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">TODO how to make a remote branch</td>
</tr></table>
</div>
<div class="paragraph"><p>When you wish to integrate the changes from a branch into the master
branch do "git checkout master", which will bring you back to the
master branch. To bring the changes from your branch into the master
branch back do <strong>git merge branchname</strong> which will copy everything into
the master branch.</p></div>
<div class="paragraph"><p>In the case we have just covered the master branch has not changed
while development was moving on the side branch. So at all git has to
do is what called a "fast-forward" where it can simply move the
master branch ahead so that the current pointer for the repository
points to the head commit for the branch.</p></div>
<div class="paragraph"><p>In the case where two branches are being merged where one is not a
direct ancestor of the other then git will have to do its best to
merge the two groups of files. If there is direct conflict then it
will force the user to figure it out.</p></div>
<div class="sect4">
<h5 id="_conventions_for_branching">Conventions for Branching</h5>
<div class="paragraph"><p>Once again there is no one single convention for how to use
branches. Some groups will use them more than others. At GitHub they
have the convention that anything in the <strong>master</strong> branch can be
shipped at any time.</p></div>
<div class="paragraph"><p>In order to maintain the quality of code in the <strong>master</strong> branch all
code must be sent threw a code review prior to being merged. This is
done via a pull request.</p></div>
<div class="paragraph"><p>In general it would work like this. Alice wants to add a new feature
to an app. She will pull the most recent version of <strong>master</strong> from the
central repo and then create a branch for her new feature, lets call it
<strong>writing_desk</strong> and write her code. When she is done she will
send a pull request to Lewis from the <strong>writing_desk</strong> branch.</p></div>
<div class="paragraph"><p>Lewis will then review her code and send her back a pull request that
may contain any changes he thinks should be made. This may then repeat
a few times until the code is ready at which point there will be a
final commit which will include a comment something like <em>SHIP IT</em>. At
this point Alice will merge her new code back into <strong>master</strong>.</p></div>
</div>
</div>
<div class="sect3">
<h4 id="_undoing_changes">Undoing changes</h4>
<div class="paragraph"><p>If you have made a change to a file and wish to undo it for some
reason you can undo that from the command line with "git reset". You
can of course also do it from any of the graphical tools.</p></div>
</div>
<div class="sect3">
<h4 id="_removing_files">Removing Files</h4>
<div class="paragraph"><p>Often in the course of development a file or group of files will
become irrelivent. Git of course allows you to remove the file.  To
remove a file from a git repository use <strong>git rm filename</strong> Then commit.
It will of course not remove the file from the history of the project,
nor from other branches.</p></div>
<div class="paragraph"><p>To move a file use <strong>git mv oldfile newfile</strong> which will remove the old
file and add the new one, but will be able to preserve history.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_remote_git">Remote Git</h3>
<div class="paragraph"><p>What makes git so useful is that it has such wonderful features for
working with remote repositories. There are for major commands for
working with a remote repository. In this case a remote repository can
be a different directory on the same computer or on a different
computer somewhere else, or even on a thumb drive.</p></div>
<div class="sect3">
<h4 id="_clone">Clone</h4>
<div class="paragraph"><p>To copy a remote repository use <strong>git clone</strong> this will copy the
repository along with all all of its history to the local system. By
default it will clone the "master" branch.</p></div>
<div class="paragraph"><p>You should use <strong>clone</strong> when you want to copy a repository onto a
computer for the first time. After that you will use <strong>pull</strong> or <strong>fetch</strong>
to get the most recent versions of files.</p></div>
</div>
<div class="sect3">
<h4 id="_push">Push</h4>
<div class="paragraph"><p>If you clone a remote repository and then make changes to it you will
probably want to return those changes to that repository. To do that
use <strong>git push</strong> which takes changes from the local repository and
copies them to the remote repository. In order to do this you must of
course have rights to write to that repository.</p></div>
<div class="paragraph"><p>A push can not merge code, so if the advance is not a fast forward then
it will be rejected. So before you do a push you may need to do a pull.</p></div>
</div>
<div class="sect3">
<h4 id="_pull">Pull</h4>
<div class="paragraph"><p>A <strong>pull</strong> is not quite the opposite of a push. A pull will take code
from <em>there</em> and move it to <em>here</em>. However unlike a push a pull will
merge the code together.  By default a pull will merge code into the
current branch. In many cases it may make sense to create a throw away
branch, pull into that, do any merging that may be required then merge
it back into the development branch.</p></div>
</div>
<div class="sect3">
<h4 id="_fetch">Fetch</h4>
<div class="paragraph"><p>A git <strong>fetch</strong> is similar to a pull in that it will fetch new commits
from the remote repository. Unlike a pull a fetch will not do any kind
of merging of remote data with your current branch.</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre></pre>
</div></div>
</div>
</div>
<div class="sect2">
<h3 id="_pushing_and_pulling">Pushing and Pulling</h3>
<div class="paragraph"><p>In order to move a set of changes from one repository to another there
are two options. You can <strong>push</strong> or <strong>pull</strong> the changes. A <strong>push</strong> takes
the changes in the current repository and merges them into a foreign
repository, which can be on a remote computer, or just a second
directory on the same computer.</p></div>
<div class="paragraph"><p>The other option is to do a <strong>pull</strong> which takes changes from another
repository and moves them into yours.</p></div>
<div class="paragraph"><p>In both cases these operations preserve the complete history of
commits from the source repository.</p></div>
<div class="paragraph"><p>In addition these operations can be be repeated. So Ann can pull
changes from Bob who has pulled changes from Charlie, the final
repository will have all three sets of changes. This is very different
from sending a patch file where there is no change history.</p></div>
</div>
<div class="sect2">
<h3 id="pull_request">A Pull Request</h3>
<div class="paragraph"><p>Of course if Ann is going to pull changes from Bob she needs a way to
know that she should pull his changes. If Ann and Bob are sitting next
to each other Bob may just say to Ann "Ok pull my changes" and let her
know the URL of the repository and which branch the changes are
on. You can push or pull from any local branch to any remote branch.</p></div>
<div class="paragraph"><p>However if you are more than three or four people and are not sitting
all in one place you will probably want a more formal way to do
this. To support this GitHub has created a formal idea of a "Pull
Request" which is a formal way for a user to let another user know
that there are changes to be integrated.</p></div>
<div class="paragraph"><p>If Ann has changes that she wishes Bob to take into his repository via
GitHub (or bitbucket) she will go to the web site for her repository
on GitHub and then select which branch contains her changes and of
course who she wishes to send the change request too.</p></div>
<div class="paragraph"><p>Bob will then be notified by GitHub that he has a pull request
pending. GitHub notifications can be configured to run over email,
threw the web site or via the API or a mobile app.</p></div>
<div class="paragraph"><p>Bob will then have a chance to review the changes that Ann made and
integrate them into his three or reject them.</p></div>
<div class="paragraph"><p>All of this can also be done via the GitHub API, but that is somewhat
beyond the scope of this chapter.</p></div>
<div class="paragraph"><p>To illustrate let us use an example from the writing of this book. I
have published this book on GitHub and user <span class="monospaced">breskeby</span> noticed a typo
in one of these files. He had forked the repository and committed his
change. You can see this in this graph. His change is the lower line
in blue.</p></div>
<div class="paragraph"><p><span class="image">
<img src="pull_request/network_graph_before_merge.png" alt="pull_request/network_graph_before_merge.png" title="Branch Before Merge">
</span></p></div>
<div class="paragraph"><p>After committing his changes <span class="monospaced">breskeby</span> sent me a pull request with
his change. In this case you see that the change he has sent to line
3. My text is in red. While his corrected text is bellow it in green.</p></div>
<div class="paragraph"><p><span class="image">
<img src="pull_request/pull_request_diff_view.png" alt="pull_request/pull_request_diff_view.png" title="Pull Request">
</span></p></div>
<div class="paragraph"><p>In this case I chose to merge the changes into the text and now the
network graph looks like this. Notice that in this graph the commit
from <span class="monospaced">breskeby</span> (in blue) is now in the <span class="monospaced">zkessin</span> band of the graph as
those commits are now also in my repository.</p></div>
<div class="paragraph"><p><span class="image">
<img src="pull_request/network_graph_after_merge.png" alt="pull_request/network_graph_after_merge.png" title="Branch After Merge">
</span></p></div>
<div class="paragraph"><p>A while latter the graph looks like this graph. Notice here that there
are further commits from me. In addition there is a new commit in
green from user <span class="monospaced">kirean</span> which has not yet been merged into my
repository.</p></div>
<div class="paragraph"><p><span class="image">
<img src="pull_request/pull_request_later.png" alt="pull_request/pull_request_later.png" title="Needs another merge">
</span></p></div>
<div class="paragraph"><p>If I look at the graph from <span class="monospaced">kirean&#8217;s</span> repository it will look like
this. There are a few things to note here. First of all his changes
are in the top band in black, while mine are bellow in blue. Secondly
the trunk up until where the two repositories diverge is shown in his
repository. Even thought I made those commits since they have been
copied into his copy of the repository they are shown there.</p></div>
<div class="paragraph"><p><span class="image">
<img src="pull_request/network_graph_kirean.png" alt="pull_request/network_graph_kirean.png" title="Network graph from Kirean&#8217;s repository">
</span></p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_hg">Using HG</h2>
<div class="sectionbody">
<div class="paragraph"><p>While GIT is the major DVCS in use Mercurial (also known as hg) is
also being used by a number of projects. In many cases the ideas of
git and HG are similar, so if you have been using one switching to the
other should not require much of a learning curve.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">HG is the chemical symbol for mercury, so that is the short
name. All those of you who remember high school or college chemistry
class knew that.</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph"><p>There are of course a number of technical differences in the internal
workings of git and HG but they are beyond the scope of this book as I
really want to focus on how to effectively use these tools to get work
done. How the internals work are not really important, if you care of
course then there are a number of books, videos and web sites that
will cover how the internals work. That being said you can use both
tools with out knowing how they index data internal.</p></div>
<div class="paragraph"><p>In addition git is written in C while hg is written in Python. This
doesn&#8217;t matter if you are using git and hg.</p></div>
</div></div>
<div class="paragraph"><p>To create a repository in HG create a directory and use the command
<span class="monospaced">hg init</span>. This will create an empty hg repository to which we can add
files.</p></div>
<div class="paragraph"><p>Most of the commands to work with HG are pretty similar to GIT. So you
can add files with +hg add file* or commit with +hg commit " and so
on.</p></div>
<div class="sect2">
<h3 id="_sharing_hg_repositories">Sharing HG Repositories</h3>
<div class="paragraph"><p>If we want to share that repository we can run the command <span class="monospaced">hg serve</span>
which will open a web server on port 8000 which we can use the
interact with the hg repository.</p></div>
<div class="paragraph"><p>The <span class="monospaced">hg serve</span> command will produce a web page that looks a bit like
the following image, with a history of the repository.</p></div>
<div class="paragraph"><p><span class="image">
<img src="using_hg/hg_log.png" alt="using_hg/hg_log.png">
</span></p></div>
<div class="paragraph"><p>The nice this about this web page is that for free you get a number of
nice features, that can help you manage a repository.</p></div>
<div class="paragraph"><p>If you want to see a graphical version of the network of commits you
can use the graph option which will give you a screen that looks like
this image. Here you can see the results of a repository where there
was a branch and a merge. With the side branch in green.</p></div>
<div class="paragraph"><p><span class="image">
<img src="using_hg/hg_graph.png" alt="using_hg/hg_graph.png">
</span></p></div>
<div class="literalblock">
<div class="content monospaced">
<pre>NOTE: run +hg serve+ will by default not run in the background but
keep logging to the terminal in the standard, HTTP log format.

so run it on a spare tab on in a session with screen or tmux.

listening at http://Galileo.local:8000/ (bound to *:8000)
127.0.0.1 - - [15/Sep/2012 21:50:31] "GET / HTTP/1.1" 200 -
127.0.0.1 - - [15/Sep/2012 21:50:31] "GET /static/style-paper.css HTTP/1.1" 200 -
127.0.0.1 - - [15/Sep/2012 21:50:31] "GET /static/mercurial.js HTTP/1.1" 200 -
127.0.0.1 - - [15/Sep/2012 21:50:31] "GET /static/hglogo.png HTTP/1.1" 200 -
127.0.0.1 - - [15/Sep/2012 21:50:31] "GET /static/hgicon.png HTTP/1.1" 200 -
127.0.0.1 - - [15/Sep/2012 21:51:06] "GET / HTTP/1.1" 304 -
127.0.0.1 - - [15/Sep/2012 21:51:06] "GET /static/style-paper.css HTTP/1.1" 304 -
127.0.0.1 - - [15/Sep/2012 21:51:06] "GET /static/mercurial.js HTTP/1.1" 304 -
127.0.0.1 - - [15/Sep/2012 21:51:06] "GET /static/hglogo.png HTTP/1.1" 304 -
127.0.0.1 - - [15/Sep/2012 21:51:06] "GET /static/hgicon.png HTTP/1.1" 304 -</pre>
</div></div>
<div class="paragraph"><p>You can also use the server to clone a repository by simply typing <span class="monospaced">hg
clone URL</span> which will pull the changes.</p></div>
<div class="paragraph"><p>In terms of how to add files, like in git you use <span class="monospaced">hg add &lt;files&gt;</span>
followed by <span class="monospaced">hg commit</span> and like in git the <span class="monospaced">-m</span> option will let you
set the commit message.</p></div>
<div class="paragraph"><p>If you made some changes that you don&#8217;t want to keep you can use the
<span class="monospaced">hg revert &lt;files&gt;</span> to roll one or more files back to the last
commit. When you do this hg will save any files you rolled back with
the ending <span class="monospaced">.orig</span> so that they are not lost.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dvcs_cloud_hosting">DVCS Cloud Hosting</h2>
<div class="sectionbody">
<div class="paragraph"><p>One of the nice things about using a DVCS is that there are a number
of very mature cloud hosting services that can be used to host your
code. These services provide an easy way to share project files with
team members as well as tools for managing those
projects. Many of these services will in addition to hosting a GIT or
HG repository will also include features like a wiki or issue tracker
that are not directly related to the DVCS but can be very useful for
management of a project.</p></div>
<div class="paragraph"><p>In addition using a cloud hosting service provides an automatic off
site backup, which can provide an important level of safety for a
small company that might not have procedures in place for backups or
disaster recovery.</p></div>
<div class="sect2">
<h3 id="_github_2">GitHub</h3>
<div class="paragraph"><p>The 10,000 pound gorilla of the DVCS hosting world is GitHub. This is
for a good reason, GitHub has been leading the effort to create new
and innovative features for collaborative development. In addition
GitHub has  become the social network for programmers, and
the central place for open source development, having taken that crown from
Soruceforge several years ago.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Several people from GitHub provided suggestions and support for
the writing of this book.</td>
</tr></table>
</div>
<div class="paragraph"><p>GitHub has become a leader in the field for a number of reasons. But
one of them is that they practice what they preach. GitHub is very
much a distributed company with people all over the world. So before
they release tools to the world, they have used them internally. In
addition their internal use of these tools is not just the standard
run threw QA testing but actual use when things have to get done.</p></div>
<div class="sect3">
<h4 id="_community">Community</h4>
<div class="paragraph"><p>One of GitHub&#8217;s goals is to provide a place for community of
developers. There are a huge number of open source projects on GitHub
(Including this book) that can be forked and downloaded. In many ways
GitHub is providing the "View Source" feature for the current decade.</p></div>
<div class="paragraph"><p>If your goal is to build a public project GitHub can form the natural
home for your project. Placing it on GitHub will allow potential users
to find, follow and contribute to your project.</p></div>
<div class="paragraph"><p>TODO: Expand</p></div>
</div>
<div class="sect3">
<h4 id="_github_api_and_tools">GitHub API and tools</h4>
<div class="paragraph"><p>In addition GitHub provides a very robust API that allows developers
to create applications that integrate with GitHub. So for example when
building applications with PhoneGap it is possible to point PhoneGap
at the correct GitHub repository and then have PhoneGap simply pull
the correct files from GitHub.</p></div>
<div class="paragraph"><p>When you want to use the GitHub API you have to give the application
permission to use it. So the API will also allow access to your
private repositories.</p></div>
<div class="paragraph"><p>Since this API is public there is no reason that a developer can use
this to automate part of a work flow. for more details see
<a href="#github_api">Using the GitHub API</a>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_features">Features</h3>
<div class="paragraph"><p>GitHub has an amazing set of features, and between when I write this
and when this book is published they will probably introduce a bunch
more. So this section will not be able to cover all of the features of
GitHub. However there are some highlights to know about.</p></div>
<div class="paragraph"><p>First of all if you are viewing a file in Markdown or Asciidoc it will
render the file for you. You can see raw text by clicking the <span class="monospaced">Raw</span>
button.</p></div>
<div class="paragraph"><p>It will also render most programming languages in a way that
programmers will be used to seeing them in their editors. So keywords
will be highlighted and so on.</p></div>
<div class="paragraph"><p>If you want to make a simple edit to a file in a GitHub repository and
do not wish to clone it to your local computer, edit the file and push
the result back up. You can use the <span class="monospaced">Edit</span> button make a change and
then commit it to the repository directly from the web page. This is
not the best way to write code, it is very useful if you want to do
something simple like fix a typo in a comment.</p></div>
<div class="paragraph"><p>If you want to know where each line of text comes from click the
<span class="monospaced">Blame</span> button which will show the file with the commit
information. So that for each chunk of text you can see who committed
it most recently and when.</p></div>
<div class="paragraph"><p>The <span class="monospaced">History</span> button will allow you to see a chronological view of the
commits to a file.</p></div>
<div class="sect3">
<h4 id="_pricing">Pricing</h4>
<div class="paragraph"><p>GitHub is a business and of course it costs money to run, so it
should come as no shock that they charge for hosting. In order to
build community public projects, like this ebook, are hosted for
free. However private projects cost money to create. Bitbucket&#8217;s plans
are priced by number of repositories. For details of what plans are
available look at <a href="http://github.com/settings/billing">GitHub
Billing</a> which will contain the current information.</p></div>
<div class="paragraph"><p>At the time of this writing GitHub charges $7 a month for up to five
repositories. If that is not enough then there are a number of plans
that range up to $50/month for 50 repositories. (If you need more
contact them).</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Prices are correct as of when this was written. They may change
in the future.</td>
</tr></table>
</div>
</div>
<div class="sect3">
<h4 id="_github_enterprise">GitHub Enterprise</h4>
<div class="paragraph"><p>If you are a a larger company and wish to have your source code behind
your firewall then using the GitHub.com site will not work for
you. The problem is that you may wish to have the same features as the
public GitHub, including the API, and all the user interfaces of
GitHub.com .</p></div>
<div class="paragraph"><p>The GitHub folks have a plan to help you in this case in <strong>GitHub
Enterprise</strong>. This is a commercial software that runs as a virtual
machine on your network. This supports a number of popular
virtualization technologies including VMware and IBM Power.</p></div>
<div class="paragraph"><p>GitHub Enterprise costs $21/user/month, but user licenses come in
blocks of 20. So expect to pay $5,000 per year at a minimum to use
this software.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_bitbucket">Bitbucket</h3>
<div class="paragraph"><p>In some ways Bitbucket is a clone of GitHub, however it has a few
options that GitHub lacks. First of all it support HG in addition to
GIT so if your team wishes to use HG it is a strong possibility. In
addition while GitHub offers free public repositories it does require
you to pay for private ones. With Bitbucket you can have as many
private repos as you want, however you can only share them with up to
five other people before you have to pay for hosting. In addition
Bitbucket allows unlimited repos with all plans but limits how many
people you can share with. If you don&#8217;t need community or to share
with more than a few people Bitbucket can be a good option. For the
case of a lone developer who just wants off site backups this can be a
good option.</p></div>
<div class="sect3">
<h4 id="_features_2">Features</h4>
</div>
<div class="sect3">
<h4 id="_pricing_2">Pricing</h4>
<div class="paragraph"><p>Unlike GitHub, Bitbucket charges you not by how many repositories you
have but based on how many people you wish to share them with. If you
wish to share you&#8217;re repositories with five other people or less,
total. Then you can use their free account. If you want to share with
more than 5 people they have a plans that start at $10/month for up to
10 users and run up to $200/month for an unlimited number of users.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">Prices are correct as of when this was written. They may change
in the future.</td>
</tr></table>
</div>
<div class="paragraph"><p>If you are a student you might be eligible for a free unlimited
account.</p></div>
</div>
<div class="sect3">
<h4 id="_stash_enterprise_bitbucket">Stash - Enterprise Bitbucket</h4>
<div class="paragraph"><p>There are of course other git and hg hosting repositories out there,
and you can find them via a google search easily enough. Of course you
can also host your own git repo on your own server, which could be
internal to your office or on a co-located or cloud host.</p></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_work_flow_planning">Work flow Planning</h2>
<div class="sectionbody">
<div class="paragraph"><p>Git and HG solve part of the problem of how can a team work together
and keep everything in sync. Which is to say that they solve the
technical part of the problem. Of course these tools are only as good
as the teams that use them. If used badly they can make a very well
regimented mess where team members have histories of what they have
done but trying to figure out how it all fits together is a
nightmare.</p></div>
<div class="paragraph"><p>To avoid this a team needs clear guidelines on how and when to
integrate merges. Those guidelines along with the ideas of how to use
GitHub form a workflow.</p></div>
<div class="paragraph"><p>To figure out what type of work flow several questions will have to be
asked. There are several attributes of a project and a team that have
to be asked as shown on this table.  Of course this table is only a
guide, your work flow must match the needs of your project and team.</p></div>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" >Well Defined </th>
<th class="tableblock halign-left valign-top" >Amorphous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Distributed</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Co Located</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">On Going</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Small</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Formal</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Informal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Private</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>Of course many projects will hit somewhere in the middle on one or
those questions. The Linux Kernel team is probably pretty well defined
at the core but may be a bit amorphous at the edges. Each work flow
presented here will start with a version of this chart for
reference.</p></div>
<div class="paragraph"><p>It should also be noted that a work flow does not have to stay the
same over the course of a project. If three friends decide to create a
startup when they first start it will probably be three people with
laptops writing code late into the evenings over Pizza. If they are
successful the team will grow and they may find that what they have
been doing so far does not work well for them. In this case they will
want to adapt to a new setup.</p></div>
<div class="paragraph"><p>The advantage of a DVCS is that these kind of changes are at least
from a technical point of view pretty simple to handle. Repositories
can be cloned and merged pretty much at will. At worst team members
may have to change the origin of their repository, or to archive their
current repository and clone it anew from a central repository.</p></div>
<div class="paragraph"><p>Note: It should also note that I have not defined what is meant by "Large"
and "Small" in the context of a team. I am assuming a more or less
common sense definition in terms of the evolution of a project.</p></div>
<div class="paragraph"><p>In addition different work flows will differ for public and private
repositories. In this case a public repository is a project like this
book or the linux kernel which anyone can access on GitHub, bitbucket
or the like. Presumably they can also fork the project and submit pull
requests (which may or may not be accepted by the project maintainer).</p></div>
<div class="paragraph"><p>A private repository is one in which only members of a project team
can access the repository, and would normally be used for the
development internal to a company. Of course the project administrator
can invite anyone into a private project.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_workflows">Workflows</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_linux_kernel_team">The Linux Kernel Team</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" ><strong>Well Defined</strong> </th>
<th class="tableblock halign-left valign-top" ><strong>Amorphous</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Distributed</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Co Located</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>On Going</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Large</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Small</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Formal</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Informal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Public</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Private</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>The Linux kernel was the project for which GIT was created, so it is a
good place to start talking out how teams use git to get work
done. (Pretty much everything here would also work with HG). It is
important to understand that GIT was built for large teams, a linux
kernel release may contain thousands of commits from hundreds of
contributers. GIT was built to handle that kind of usage. Thankfully
it scales down quite well for small projects.</p></div>
<div class="paragraph"><p>At the center of the Linux Universe in Linus Torvalds. He maintains a
central authoritative copy of the kernel source tree. Around him are a
number of lieutenants each of whom maintain a part of component. This
central group of people is probably pretty stable in terms of
membership. However they are a distributed team. They do not all work
for the same company, nor do they sit in the same place. As such they
needed a tool that would let them work in this way.</p></div>
<div class="paragraph"><p>The way the system works is that if a developer wishes to submit a
patch he will send a pull request to the maintainer of whichever
component is involved. That maintainer will review those changes and
if he or she approves them forward them up the tree until they
eventually end up with Linus who will release them to the world.</p></div>
<div class="paragraph"><p>Now the central team is probably very stable. Linus has been in charge
of the Linux kernel for over 20 years, and most of the senior
lieutenants have probably been doing it for years. However the folks
on the edges may come and go. It is quite possible to think that a
company would write a device driver for some piece of hardware submit
it to the correct person and then only change it once in a while.</p></div>
<div class="paragraph"><p>If you have a large team some variation on this work flow may make
sense. In this case what would have to happen is that the project must
be able to decompose into smaller components each of which would be
the responsibility of a component leader. Those component leaders will
have to forward their changes up to the global leader.</p></div>
</div>
<div class="sect2">
<h3 id="_single_developer">Single Developer</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" ><strong>Well Defined</strong> </th>
<th class="tableblock halign-left valign-top" >Amorphous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Distributed</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Co Located</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>On Going</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Small</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Formal</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Informal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Private</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>If you are developing a project solo many of the complexities of a
group are greatly simplified, As there is only one team member she
does not need to coordinate  with team members.  fThere are two aspects
of how to work on a project solo. How to best take advantage of the
features of git such as branches and how to take best advantage of
cloud hosting.</p></div>
<div class="paragraph"><p>I have found that while working solo or in a group using frequent
small branches makes life simple.  For each new feature I create a new
branch and do the development I want to do. When I have fished the
feature I merge it back into the main branch.</p></div>
<div class="paragraph"><p>I tend to use Bitbucket for solo projects. Unlike GitHub Bitbucket
allows you to have have unlimited private repositories. As I don&#8217;t
care about community in this case giving up GitHub&#8217;s features doesn&#8217;t
bother me as I am working solo.</p></div>
<div class="paragraph"><p>I do however want to use a cloud host as I may be using the project
from several computes. I may wish to have access to the files from my
desktop, my laptop and a cloud server for deployment.</p></div>
<div class="paragraph"><p>One reason to prefer GitHub is that many online build tools can take
advantage of the GitHub API.  SO example if I am building an
application for mobile phones with PhoneGap then I may wish to use
their API to build my application. {TODO link PhoneGap} this will
enable me to take advantage of those build tools. In that case I could
also push my changes onto the PhoneGap git archive.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">You can also use git to maintain any file or group of files that
you might wish to keep track of, including things like unix config
files such as a <span class="monospaced">.emacs.d</span> directory or even a phone directory so that
you don&#8217;t delete your aunt&#8217;s phone number by accident.</td>
</tr></table>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Using Git for config files</div>
<div class="paragraph"><p>If you have a complex set of configuration files on unix, which could
include things like your <span class="monospaced">.emacs.d</span> and <span class="monospaced">.vim</span> directories as well as
configurations for bash, screen and tmux you may with to keep them
under version control and backed up. These things take time to create
and loosing them would be a major pain in the neck. In addition you
may want to share them between several computers (home, work,
laptop).</p></div>
<div class="paragraph"><p>One easy way to do this is to copy the various files and directories
from your unix home directory to a custom subdirectory and then create
symbolic links from the home directory. The new configuration
directory can be  under version control with git or hg. In addition to
keep a backup of these files you can then push them to GitHub.</p></div>
<div class="paragraph"><p>You can also keep the directory on dropbox, but that sometimes results
in weird git errors if two computers try to update the repository at
the same time.</p></div>
</div></div>
</div>
<div class="sect2">
<h3 id="_working_as_a_solo_developer_with_a_client">Working as a Solo Developer with a Client</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" ><strong>Well Defined</strong> </th>
<th class="tableblock halign-left valign-top" >Amorphous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Distributed</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Co Located</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">On Going</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Limited</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Small</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Formal</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Informal</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Private</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>If you are a free lance software consultant (which I am) and you need
to work with clients a lot on projects then you will need to vary the
previous pattern for working with your clients.</p></div>
<div class="paragraph"><p>In this case the team is well defined, you the consultant and the
client. The scope is probably limited to one short project, and
the leadership structure is pretty simple based on just you and the
client.</p></div>
<div class="paragraph"><p>In this case, generally the developer will probably be committing most
of the changes to the code or content and the client will be reviewing
them, but possibly also submitting some content from time to time,
which could involve setting configuration options or uploading artwork
or the like. (Clearly this will change based on the exact nature of
the consultant client relationship).</p></div>
<div class="paragraph"><p>In this case the easiest way to structure the project is probably to
open a repository at GitHub or Bitbucket and share it with the
client so that you both have read / write access, it would be possible
to fork a repo for the client and send pull requests back and forth
but it is probably more trouble than it is worth.</p></div>
<div class="paragraph"><p>I find that when working in this small a group many of the
notification features that are present in GitHub or Bitbucket can be
dealt with by simply picking up my phone and calling my client, or by
using some form of IM. Of course that does not mean that project
notifications are not useful, so much as that using them may not be
required in such a small team.</p></div>
</div>
<div class="sect2">
<h3 id="_working_in_ad_hoc_teams">Working in Ad-Hoc teams</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" >Well Defined </th>
<th class="tableblock halign-left valign-top" ><strong>Amorphous</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Distributed</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Co Located</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">On Going</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Limited</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Small</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Formal</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Informal</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Private</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>At the opposite end of the spectrum from the Linux Kernel team is the
Internet cafe or hackathon session. In this case we can assume 2-4
people are going to be sitting down over a coffee or pizza to develop
something. This would also apply to an early stage startup where
people are writing code on laptops around a table, or a group of
students working on their homework. In this case we should assume that
the project will only last a few hours or a few days, so the work flow
should be informal.</p></div>
<div class="paragraph"><p>In this case the project probably does not have a formal leadership,
and planning is probably done on a whiteboard. In addition a "Pull
Request" is probably done by turning to your friend and saying "Hey
grab my code" not via a formal GitHub Pull request. (though you can do
that too if you wish).</p></div>
<div class="paragraph"><p>On the plus side you have the advantage that everyone involved is
probably in the same room and may well have known each other before
the project started. This can make the interaction between team
members simpler.</p></div>
<div class="paragraph"><p>In this case a deep system like the Linux Kernel team uses makes no
sense what so ever. What we want here is a limited number of peers
each of whom can pull from the others. This can be done with the hg
server option if you are using HG, or by creating a project on GitHub
and having everyone fork it. When it comes time to integrate code it
will be as simple as doing a pull from the correct repository and
branch.</p></div>
<div class="paragraph"><p>To adapt this work flow is as easy as it could be. Create a repository
where everyone can access it then have everyone clone it. Each member
of the team will commit to his or her own repository. When features
need to be integrated changes are pushed to a repository then changes
can be shared between developers. In this case there is not a central
authoritative version of the source, as in some of the other
work flows, instead it will be up to members of the team to integrate
reasonably often and not let things get too disorganized.</p></div>
<div class="paragraph"><p>This work flow also takes little or no infrastructure. Each user needs
only his own computer and a way to share repositories. This can be
done in several ways. First of all if you are using HG you can use the
built in http server with the <em>hg --serve</em> command. If you are using
git there is not quite as easy an option, however you can use a cloud
hosting service like GitHub or even share the repositories with a file
server or dropbox.</p></div>
<div class="paragraph"><p>What would probably work is to setup a repository on GitHub and give
everyone read/write access to it and push all changes there.</p></div>
<div class="paragraph"><p>What will probably be more work is knowing when you have outgrown this
workflow. At some point three guys sitting around a table with Pizza
can turn into a real company which may require other types of
work flow.</p></div>
</div>
<div class="sect2">
<h3 id="_a_public_or_open_source_project">A Public or Open Source Project</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" >Well Defined </th>
<th class="tableblock halign-left valign-top" ><strong>Amorphous</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Distributed</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Co Located</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>On Going</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Large</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Small</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Formal</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Informal</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Public</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Private</p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>A public project, including many open source programs, is one where
you are trying to leverage the community at large to build
something. This may be a book (like this one), or a open source
software project or even a families collection of recipes.</p></div>
<div class="paragraph"><p>In this case GitHub is a clear win just by its large community and its
tools to create and support community.</p></div>
<div class="paragraph"><p>In terms of how to work it is pretty simple, the project leader will
publish a repository on GitHub and then announce it (normally via
twitter, blogs, mailing lists or other social media sites).</p></div>
<div class="paragraph"><p>At this point anyone else who is interested in the project will then
fork the repository and add their own content. This will be sent back
to the original leader via a pull request.</p></div>
<div class="paragraph"><p>If the project gets large then it may evolve into something that
resembles the Linux Kernel team work flow. This is in effect a
simplified version of that pattern. While the Linux kernel team has
several layers of gate keeper between a contributer and the
authoritative version of the project, in a smaller project there may
only be one or two core people who accept all the pull requests and
integrate them.</p></div>
</div>
<div class="sect2">
<h3 id="_a_work_flow_for_a_small_team">A Work flow for a Small Team</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" ><strong>Well Defined</strong> </th>
<th class="tableblock halign-left valign-top" >Amorphous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Distributed</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Co Located</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>On Going</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Small</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Formal</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Informal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Private</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>When you have outgrown the previous work flow, which resembles a fully
connected graph then the question is what to replace it with. There is
not one correct way to do things at this stage but clearly there are
some wrong ways. The Linux Kernel model is clearly overkill for a team
of 6-10 developers.</p></div>
<div class="paragraph"><p>The simplest model is to have one central repository where everyone
can push changes to integrate. It could also be linked into a CI
system via hooks if that is what is desired. This is a good base but
is probably not the full solution.</p></div>
<div class="paragraph"><p>Unlike many of the other models in this book this one relies on pushing
to a central repository. In this case each developer must be given
write access to that repository. When he has changes he does a push
and they are integrated.</p></div>
<div class="paragraph"><p>As a variation it would also be possible to have a central integration
machine, and he will send that account a pull request. Then move to
the integration machine merge the code and integrate the changes. In order
for this to work there should not be a backlog of changes and people should
integrate them as soon as possible.</p></div>
<div class="paragraph"><p>One place that this can lead to problems is that if changes are not
integrated on a regular basis then integration can become a nightmare,
so make sure that code is integrated on a regular basis.</p></div>
<div class="paragraph"><p>In addition a DVCS also will allow developers to pull changes from
each other without going threw the central server. This is very useful
for things like doing a code review. If Adam has some code that he has
written that he want Bonnie to review he can ask her to pull that code
directly from him for review. When she is done it can be pushed into
the central server.</p></div>
<div class="paragraph"><p>As with the Linux Kernel model it is important to have one central
point of "truth" for the project, so that everyone knows what is going
to be shipped. It would be way to easy for a project to end up with
the situation where there are a number of repos each with a slightly
different version of the code and have no one realize it until two
days before a major deadline. In the previous work flow that risk is
mitigated by close communication and the limited scope of the
project. A hack-a-thon or a typical homework project will probably
only last a few hours to a few days, while a small company might be
working on its code base for a period of years.</p></div>
</div>
<div class="sect2">
<h3 id="_using_branches_for_features">Using Branches For Features</h3>
<table class="tableblock frame-all grid-rows"
style="
width:100%;
">
<col style="width:33%;">
<col style="width:33%;">
<col style="width:33%;">
<thead>
<tr>
<th class="tableblock halign-left valign-top" >Team Members</th>
<th class="tableblock halign-left valign-top" ><strong>Well Defined</strong> </th>
<th class="tableblock halign-left valign-top" >Amorphous</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Location</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Distributed</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Co Located</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Time Frame</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>On Going</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Limited</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Team Size</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Large</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Small</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Leadership</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Formal</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Informal</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Repository Access</strong></p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock">Public</p></td>
<td class="tableblock halign-left valign-top" ><p class="tableblock"><strong>Private</strong></p></td>
</tr>
</tbody>
</table>
<div class="paragraph"><p>One way to work with a small group is to have one central repository
and then have all new development happen in a series of branches. Each
feature is implemented in its own branch and when code review and
testing are complete the code is merged into the master branch from
which the final build is constructed and shipped.</p></div>
<div class="paragraph"><p>In order for this work flow to work then your team must have good
discipline as anyone can integrate code into the master branch and
ship that code.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_the_github_api">Using the GitHub API</h2>
<div class="sectionbody">
<div class="paragraph" id="github_api"><p>Once you know how you want to setup a work flow you may wish to
automate some or all of it, to make the life of your team easier. This
way you can provide a set of tools, which can be run from a command
line, as plug ins for your favorite tool, or as part of a web
interface.</p></div>
<div class="paragraph"><p>Of course as git is a command line tool a shell script can be written
that will do many of the standard git operations. So for example you
could take some raw data, populate some templates, commit them into
git and push them up to a server.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">TODO talk about GitHub&#8217;s web hosting</td>
</tr></table>
</div>
<div class="paragraph"><p>However if you want to do something more complex then you may wish to
use the GitHub api which lets you access many of the features of
GitHub programmaticly instead of doing them via the web interface.</p></div>
<div class="admonitionblock">
<table><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">TODO a few more examples</td>
</tr></table>
</div>
<div class="sect2">
<h3 id="_ci_with_github_and_travis_ci">CI with GitHub and Travis CI</h3>
<div class="paragraph"><p>If you are using GitHub for hosting your product you may wish to do
Continous Integration with your GitHub repository. There are a number
of ways to do this but one easy hosted solution is to use Travis CI
(<a href="http://travis-ci.org">http://travis-ci.org</a>) which is a hosted CI solution that can run
tests with a number of different languages.</p></div>
<div class="paragraph"><p>Travis-Ci was started by the ruby guys, but has since expanded to
allow testing in C, C++, Clojure, Erlang, Go, Groovy, Haskell, Java,
JavaScript (Node.js), Perl, PHP, Python and Scala. As Travis is open
source if you need a language that is not on that list I am sure they
would be happy to get a pull request from you that would make it work.</p></div>
<div class="paragraph"><p>To setup travis-ci you need to add a yml file to the repository called
<span class="monospaced">.travis.yml</span> which should contain the options for how to build your
software.</p></div>
<div class="paragraph"><p>When Travis goes to build your project it will create a new virtual
machine and then build your project based on the instructions in the
<span class="monospaced">.travis.yml</span> file. At the end of the build cycle it will destroy the
virtual machine. Thus any changes to the VM made by one run will never
be kept.</p></div>
</div>
<div class="sect2">
<h3 id="_a_build_tool">A Build Tool</h3>
<div class="paragraph"><p>An automated build tool&#8230;</p></div>
</div>
<div class="sect2">
<h3 id="_building_a_delta_debugger">Building a Delta Debugger</h3>
<div class="paragraph"><p>If you have a comprehensive set of tests it can be possible to
build a tool to allow you to very easily zero in on a fault if one
gets introduced into the system. If someone has pushed a set of
changes into a project then those changes may have affected dozens of
files and hundreds of tests. In addition there may have been 50 or
more commits in that change set.</p></div>
<div class="paragraph"><p>If you know that tests start failing then it would be possible to roll
back to the last commit which all tests pass then by moving forward
one commit at a time unit a test fails. At that point we can see
which lines in which files have changed, and what lines of code are
covered by the failing tests.</p></div>
<div class="paragraph"><p>What we want is is to know is which lines are in common between the
changes and the coverage of the failing tests. If the commits are
small changes and the coverage of each test is tight then in many
cases the developer can be directed to an area of 1-2 lines of code
where the bug exists.</p></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="git_gui">GUI Git Front-ends</h2>
<div class="sectionbody">
<div class="paragraph"><p>I will confess to being a long time linux and Emacs user. As such
moving from CVS and SVN to GIT and HG was pretty easy. The Emacs VCS
modes for all four systems are pretty similar and the same basic
keystrokes will work on all of them. (Which is really quite handy when
you have to switch back and forth for different projects).</p></div>
<div class="paragraph"><p>In addition I have long experience with command lines so using a unix
bash shell to get things done is not a big deal for me. Of course not
everyone will wish to work with a command line tool (or to do so for
all tasks). As such there are a number of tools for both the Mac and
Windows that can make your life easier.</p></div>
<div class="paragraph"><p>In order to be included here a package must be free and include all of
the normal git commands that you might want to use from a command
line.</p></div>
<div class="sect2">
<h3 id="_emacs">Emacs</h3>
<div class="sect3">
<h4 id="_using_git_and_hg_with_emacs">Using Git and HG with Emacs</h4>
<div class="paragraph"><p>If you are an emacs user who has worked with other VCS systems such as
CVS or SVN in emacs then you may wish to also work with GIT or HG in
emacs. Thankfully Emacs has good integration with both git and HG. In
addition many of the same key commands work across CVS, SVN, HG and
GIT. So in all four systems the command "C-x v d" will show you which
files have changed since the last commit. (Of course what a commit
means in those four systems is not the same).</p></div>
<div class="paragraph"><p>If you are using the GIT mode in emacs there will be an addition to
the status bar that says <em>Git:&lt;branch name&gt;</em>. If you click on that you
will get a menu that will show you all of the various options for git
under emacs.</p></div>
<div class="paragraph"><p>In HG you sill see something similar but it will show a slightly
different status bar message. <strong>TODO Expand</strong></p></div>
</div>
</div>
<div class="sect2">
<h3 id="_windows">Windows</h3>
<div class="sect3">
<h4 id="_tortoise_git_amp_hg">Tortoise GIT &amp; HG</h4>
<div class="paragraph"><p>If you have used the Tortoise Client for CVS or SVN you will be
happy to know that they also have clients for GIT and HG. Both provide
menus in the windows explorer.</p></div>
<div class="paragraph"><p>TODO <strong>EXPAND</strong></p></div>
</div>
<div class="sect3">
<h4 id="_github_for_windows">GitHub For windows</h4>
<div class="paragraph"><p>Github also has a great client for windows. Sporting a very nice
Windows 8 Metro theme it can be found at
<a href="http://windows.github.com">http://windows.github.com</a>. GitHub for windows will work with
Windows XP, Vista, 7 and 8.</p></div>
<div class="paragraph"><p>While setting up GIT for windows can be a pain in the neck <strong>Github for
Windows</strong> is an easy install. It installs a self contained git install
that will not require anything else.</p></div>
<div class="paragraph"><p>When you first install GitHub for windows it will ask you for your
github user and password. It will then setup an SSH key so that it can
connect to GitHub.</p></div>
<div class="paragraph"><p>If you install GitHub for windows and want to from time to time use a
command line then you can do that. It installs
<a href="https://github.com/dahlbyk/posh-git">Posh Git</a> which is a command
line git client that will also use the same ssh key and other settings
as the rest of Gihbu For windows.</p></div>
<div class="paragraph"><p>TODO: Screen shots</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_mac">Mac</h3>
<div class="paragraph"><p>There are a number of graphical git tools for the mac. You can of
course download the command line git via homebrew (and probably
should) but if you want to do some things with a graphical client
there are a few free options.</p></div>
<div class="sect3">
<h4 id="_github_for_mac">GitHub For Mac</h4>
<div class="paragraph"><p>The folks at GitHub, as part of their effort to improve the git
ecosystem have their own Git client for the mac, You can download it
from <a href="http://mac.github.com/">http://mac.github.com/</a> or by going to
<a href="http://www.github.com">http://www.github.com</a> and selecting GitHub for Mac at the
bottom of the page. GitHub for Mac works with Mac OS 10.7 (Lion) and
later.</p></div>
<div class="paragraph"><p>Note: you do not need to use GitHub for mac only with GitHub, it will
work with any git repository. So if you host your public projects on
github and your private ones on bitbucket you can use this tool with
both. However some features may only work with GitHub</p></div>
<div class="paragraph"><p>The GitHub mac client will of course do everything you would expect a
git client to do. It can commit changes, view history, create and
merge branches and so on.</p></div>
<div class="paragraph"><p>When you open the GitHub client you are presented with a panel that
lists your repositories. You can select one to work with. If you need
to create a new repository or open one that the client does not know
about you can do that from the file menu.</p></div>
<div class="paragraph"><p><span class="image">
<img src="graphical_git/mac_github/repositories.png" alt="graphical_git/mac_github/repositories.png" title="Repositories Screen">
</span></p></div>
<div class="paragraph"><p>When you select a repository you are presented with a panel with four
buttons on the side, that cover most of the options that you would
want to do.</p></div>
<div class="paragraph"><p>The top button, will show the history of the current branch. You can
select a given commit and see the comment as well as what was changed
in that commit.</p></div>
<div class="paragraph"><p><span class="image">
<img src="graphical_git/mac_github/history.png" alt="graphical_git/mac_github/history.png" title="History Screen">
</span></p></div>
<div class="paragraph"><p>To commit a set of changes go to the second button. The left hand side
of the panel will show a list of files that have changed. Select the
file or files that you wish to commit, and enter a comment then click
the commit button. If you need to review what was changed in  a given
file that will be shown on the right side.</p></div>
<div class="paragraph"><p><span class="image">
<img src="graphical_git/mac_github/commit.png" alt="graphical_git/mac_github/commit.png" title="Commit Screen">
</span></p></div>
<div class="paragraph"><p>If you have multiple branches (and in many projects you probably
should) you can work with those branches in the branches tab. Here you
can create a new branch, select which  branch to work with and so
on. You can also publish a branch to the server.</p></div>
<div class="paragraph"><p><span class="image">
<img src="graphical_git/mac_github/branches.png" alt="graphical_git/mac_github/branches.png" title="Branches Screen">
</span></p></div>
<div class="paragraph"><p>The final tab is the settings tab. From here you can set the remote
origin of a repository. In addition you can setup the <em>.gitignore</em>
file
<span class="image">
<img src="graphical_git/mac_github/settings.png" alt="graphical_git/mac_github/settings.png" title="Settings Screen">
</span></p></div>
<div class="paragraph"><p>You can also do a push or a pull from the client. to do a push hit
command-P and a pull can be done with Command-Shift-P. The default way
to sync with a server from GitHub for mac is to use the "Sync" button
which will do a push and a pull at once.</p></div>
<div class="paragraph"><p>Nicely it will also work with other git clients (as you would expect)
so you can commit changes with eclipse and review them with the GitHub
client.</p></div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr></div>
<div id="footer">
<div id="footer-text">
Last updated 2012-10-29 13:02:26 MDT
</div>
</div>
</body>
</html>
